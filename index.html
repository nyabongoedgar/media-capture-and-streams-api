<html>

<head>
    <script>
        const constraints = {
            video: true,
            audio: true
        };

        let initMedia = async function getMedia(constraints) {
            let stream = null;
            try {
                stream = await navigator.mediaDevices.getUserMedia(constraints);
                var video = document.querySelector('video');
                video.srcObject = stream;
                video.onloadedmetadata = function(e){
                    video.play();
                }
            }
            catch (err) {
                throw err;
            }
        };
        initMedia(constraints);
    </script>
</head>
<body>
    <video controls></video>
</body>
</html>